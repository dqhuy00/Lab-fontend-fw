<div class="shop_area shop_reverse mt-5">
  <div class="container">
    <div class="shop_inner_area">
      <div class="row">
        <div class="col-lg-3 col-md-12">
          <!--sidebar widget start-->
          <div class="sidebar_widget">
            <div class="widget_list widget_filter">
              <h2>Khoảng giá</h2>
              <form action="index.php?act=product" method="post">
                <!-- <div id="slider-range"></div> -->
                <div
                  class="d-flex justify-content-around mb-3"
                  style="gap: 20px"
                >
                  <input
                    type="text"
                    style="border: 1px solid gray; width: 40%; text-align: left"
                    placeholder="Từ"
                    name="min"
                    class="priceMin"
                  />
                  <span style="font-size: 30px">-</span>
                  <input
                    type="text"
                    style="border: 1px solid gray; width: 40%; text-align: left"
                    placeholder="Đến"
                    name="max"
                    class="priceMax"
                  />
                </div>
                <button name="khoanggia">Áp dụng</button>
                <p style="color: red"><?= $errfilter ?></p>
                <!-- <input type="text" name="text" id="amount" /> -->
              </form>
            </div>
            <div class="widget_list widget_categories">
              <h2>Danh mục</h2>
              <ul>
                <li>
                  <a ng-repeat="dm in danhmuc" href="#!product?ma_dm={{dm.id}}"
                    >{{dm.ten_dm}} <span>{{dm.id}}</span></a
                  >
                  <!-- <a href="#">Kính râm <span>1</span></a>
                      <a href="#">Kính thời trang<span>1</span></a> -->
                </li>
              </ul>
            </div>
          </div>
          <!--sidebar widget end-->
        </div>
        <div class="col-lg-9 col-md-12">
          <div class="shop_title">
            <h1 class="fw-bold">shop</h1>
          </div>

          <div class="row shop_wrapper" id="products">
            <div
              class="col-lg-4 col-md-4 col-12 spdon"
              ng-repeat="sp in displayedItems"
            >
              <div class="single_product">
                <div class="product_thumb">
                  <a class="primary_img" href="#!chitietsp/{{sp.id}}"
                    ><img src="assets/img/uploads/sanpham/{{sp.anhsp}}" alt=""
                  /></a>
                  <div
                    class="product_action"
                    ng-click="addCart(sp.id,sp.gia,sp.anhsp,sp.ten_sp)"
                  >
                    <div class="hover_action">
                      <a href="#"><i class="fa-solid fa-plus"></i></a>
                      <div class="action_button">
                        <ul>
                          <li>
                            <a title="add to cart"
                              ><i class="fa-solid fa-cart-shopping"></i
                            ></a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="quick_button">
                    <a href="#!chitietsp/{{sp.id}}" title="quick_view"
                      >Xem sản phẩm</a
                    >
                  </div>
                </div>
                <div class="product_content">
                  <h3>
                    <a href="#!chitietsp/{{sp.id}}">{{sp.ten_sp}}</a>
                  </h3>
                  <span class="current_price">{{sp.gia}}₫</span>
                </div>
              </div>
            </div>
          </div>
          <nav
            aria-label="Page navigation example"
            class="d-flex justify-content-center"
          >
            <ul class="pagination">
              <li class="page-item" ng-class="{disabled: currentPage == 1}">
                <a
                  class="page-link"
                  aria-label="Previous"
                  ng-click="prevPage()"
                >
                  <span aria-hidden="true" style="color: #747474">&laquo;</span>
                </a>
              </li>
              <li class="page-item" ng-repeat="page in pages">
                <a
                  class="page-link"
                  style="color: #747474"
                  ng-click="setPage(page)"
                  >{{ page }}</a
                >
              </li>
              <li
                class="page-item"
                ng-class="{disabled: currentPage == totalPages}"
              >
                <a class="page-link" aria-label="Next" ng-click="nextPage()">
                  <span aria-hidden="true" style="color: #747474">&raquo;</span>
                </a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  const priceMinInput = document.querySelector(".priceMin");
  const priceMaxInput = document.querySelector(".priceMax");

  priceMinInput.addEventListener("input", () => {
    if (!priceMinInput.value.match(/^\d+$/)) {
      priceMinInput.value = "";
    }
  });

  priceMaxInput.addEventListener("input", () => {
    if (!priceMaxInput.value.match(/^\d+$/)) {
      priceMaxInput.value = "";
    }
  });
</script>
